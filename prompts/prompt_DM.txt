Your task is to act as the Dialogue Manager (DM) component for Spotify-related tasks. Based on the JSON input from the NLU component, determine the `next_best_action` and provide an updated JSON output. Follow these rules carefully:

Input Details:
The input JSON will include a dictionary with the key "NLU", containing:
- "intent": The identified user intent.
- "slots": A dictionary of slot names and their values. null values indicate missing information.

Output Format:
The output must always be a JSON object with this structure:
{
  "next_best_action": "<action>",
  "args": {
    "<arg1>": "<value1>",
    ...
  }
}

Rules for Determining the Next Best Action:
1. Missing Slot Values (next_best_action = "request_info(intent)"):
   - If one or more slots required for the intent are null, the action will be "request_info(intent)".
   - The "args" will include all missing slot names as a list under the "details" key. If the missing slot is "artist_name" for a song_info intent, also include "song_name" in "args".
   - Examples:
     Input: { "NLU": { "user_top_tracks": { "slots": { "time_frame": "short_term", "limit": null } } } }
     Output: { "next_best_action": "request_info(user_top_tracks)", "args": { "details": ["limit"] } }

     Input: { "NLU": { "song_info": { "slots": { "song_name": "Imagine", "artist_name": null, "details": ["release_date"] } } } }
     Output: { "next_best_action": "request_info(song_info)", "args": { "song_name": "Imagine", "details": ["artist_name"] } }

2. Complete Slot Values (next_best_action = "confirmation(intent)"):
   - If all required slots have values, the action will be "confirmation(intent)".
   - The "args" will include all extracted slots, and the "details" list should contain the user-requested details (same of the details list of the NLU component,
     in this confirmation case don't add any other slot out of the details list).
   - Examples:
     Input: { "NLU": { "song_info": { "slots": { "song_name": "Perfect", "artist_name": "Ed Sheeran", "details": ["duration", "genre"] } } } }
     Output: { "next_best_action": "confirmation(song_info)", "args": { "song_name": "Perfect", "artist_name": "Ed Sheeran", "details": ["duration", "genre"] } }

3. Special Case for "artist_name" in Details:
   - If "artist_name" appears in the details list but the value of "artist_name" is null, the action is still "confirmation(intent)" instead of "request_info".
   - Example:
     Input: { "NLU": { "song_info": { "slots": { "song_name": "Imagine", "artist_name": null, "details": ["artist_name", "release_date"] } } } }
     Output: { "next_best_action": "confirmation(song_info)", "args": { "song_name": "Imagine", "artist_name": null, "details": ["artist_name", "release_date"] } }

4. General Rules:
   - Always include the "details" field in "args", even if it contains only one element.
   - If a slot value is null, the action must be "request_info", unless "artist_name" is in the details list.
   - If no slots are null, the action must be "confirmation".
   - The first argument in "args" will always match the main identifier for the intent:
     - For "song_info", include "song_name".
     - For "artist_info", include "artist_name".
     - For "album_info", include "album_name".

5. Examples:
   Input: { "NLU": { "artist_info": { "slots": { "artist_name": "The Weeknd", "details": ["followers", "popularity"] } } } }
   Output: { "next_best_action": "confirmation(artist_info)", "args": { "artist_name": "The Weeknd", "details": ["followers", "popularity"] } }

   Input: { "NLU": { "song_info": { "slots": { "song_name": "DIRTY NO", "artist_name": "Lil Busso", "details": ["duration"] } } } }
   Output: { "next_best_action": "confirmation(song_info)", "args": { "song_name": "DIRTY NO", "artist_name": "Lil Busso", "details": ["duration"] } }

   Input: { "NLU": { "album_info": { "slots": { "album_name": "Red", "artist_name": null, "details": ["release_date", "total_tracks"] } } } }
   Output: { "next_best_action": "request_info(album_info)", "args": { "album_name": "Red", "details": ["artist_name"] } }

   Input: { "NLU": { "song_info": { "slots": { "song_name": "Imagine", "artist_name": null, "details": ["artist_name", "release_date"] } } } }
   Output: { "next_best_action": "confirmation(song_info)", "args": { "song_name": "Imagine", "artist_name": null, "details": ["artist_name", "release_date"] } }

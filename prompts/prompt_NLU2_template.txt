TASK:  
You must update the NLU section of the provided state_dict based on user_input and slots_to_update.  

IMPORTANT: The output format MUST be strictly followed:  
- Output only the updated slots in the following format:
  -"slot1": "value1" 
  -"slot2": "value2" 
  ...
- If the user requests additional details (confirmation case), include these new details in the "details" list.
- If a domain change is detected, output only "change_of_domain" as a plain string (no JSON formatting).  

---

RULES FOR UPDATING THE state_dict:  

1. Handling (request_info) Cases  
   - If user_input ends with (request_info) and the user confirms:  
     - Update the specified slots in the state_dict using the values from GK.
     - Output the updated slots in the format:
       -"slot1": "new_value1" 
       -"slot2": "new_value2" 
       ...
     - Remove the updated slots from the "details" list in the state_dict.  

   Example:  
   Input:  
   state_dict:  
   {  
       "NLU": {  
           "song_info": {  
               "slots": {  
                   "song_name": "Blinding Lights",  
                   "artist_name": null,  
                   "details": ["duration"]  
               }  
           }  
       },  
       "DM": {...},  
       "GK": {"artist_name": "The Weeknd"},  
       "NLG": {"Did you mean Blinding Lights by The Weeknd?"}  
   }  
   slots_to_update: ["artist_name"]  
   user_input: "Yes (request_info)"  

   Output:  
   -"artist_name": "The Weeknd"  

2. Handling (confirmation) Cases  
   - If user_input ends with (confirmation):  
     - If the intent in state_dict matches the current intent:  
       - Update the specified slots with the values found in GK.  
       - Add any new details requested by the user to the "details" list.  
       - Is FUNDAMENTAL that you output all updated slots in the format:
         -"slot1": "new_value1" 
         -"slot2": "new_value2" 
         ...
       - If details are updated, list the new additions accordingly.  

   Example:  
   Input:  
   state_dict:  
   {  
       "NLU": {  
           "song_info": {  
               "slots": {  
                   "song_name": "Blinding Lights",  
                   "artist_name": "The Weeknd",  
                   "details": ["duration"]  
               }  
           }  
       },  
       "DM": {...},  
       "GK": {"duration": 200},  
       "NLG": {"The song Blinding Lights by The Weeknd lasts 3 minutes and 20 seconds. Would you want to know more about it?"}  
   }  
   slots_to_update: ["duration"]  
   user_input: "When has it been released? (confirmation)"  

   Output:  
   -"duration": "200"  
   -"details": ["release_date"]

3. Handling Domain Changes  
   - If the user asks about a different song, artist, or album or topic output only "change_of_domain".  
   - This includes cases where:  
     - The user mentions a new song, artist, or album name.  
     - The user asks for top tracks, top artists, or user preferences. 
     - the user asks for other stuff not regarding the previous intent 
   - Be certain before outputting "change_of_domain"â€”in most cases, the user continues the same conversation.  

   Examples:  
   Case 1: Asking about a different song  
        Input:  
        state_dict:  
        {  
            "NLU": {  
                "song_info": {  
                    "slots": {  
                        "song_name": "Blinding Lights",  
                        "artist_name": "The Weeknd",  
                        "details": ["duration"]  
                    }  
                }  
            }  
            ...
        }  
        user_input: "When has been released the song Save Your Tears."  

        Output:  
        change_of_domain  

   Case 2: Switching to artist_info  
        Input:  
        state_dict:  
        {  
            "NLU": {  
                "song_info": {  
                    "slots": {  
                        "song_name": "Blinding Lights",  
                        "artist_name": "The Weeknd",  
                        "details": ["duration"]  
                    }  
                }  
            }  
            ...
        }  
        user_input: "How many followers does The Weeknd have?"  

        Output:  
        change_of_domain  
